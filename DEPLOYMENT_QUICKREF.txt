╔═══════════════════════════════════════════════════════════════════╗
║                  BLOOMER DEPLOYMENT QUICK REFERENCE               ║
╚═══════════════════════════════════════════════════════════════════╝

📦 DEPLOYMENT ORDER
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  1. Backend (Render)  →  2. Update URLs  →  3. Frontend (Vercel)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔧 BACKEND DEPLOYMENT (Render.com)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Repository:       [Your GitHub repo]
Root Directory:   .
Build Command:    npm install
Start Command:    npm start
Environment:      Node

Environment Variables (Required):
  NODE_ENV=production
  PORT=5000
  FIREBASE_PROJECT_ID=bloomer-3d7ed
  FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
  FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@bloomer-3d7ed.iam.gserviceaccount.com
  ALLOWED_ORIGINS=https://your-vercel-app.vercel.app

Environment Variables (Optional - Email):
  SMTP_HOST=smtp.gmail.com
  SMTP_PORT=587
  SMTP_SECURE=false
  SMTP_USER=your-email@gmail.com
  SMTP_PASS=your-app-password
  SMTP_FROM="Bloomer Team 🌸" <your-email@gmail.com>

After Deployment:
  ✓ Copy backend URL: https://bloomer-backend.onrender.com
  ✓ Test health: curl https://bloomer-backend.onrender.com/api/health

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎨 FRONTEND DEPLOYMENT (Vercel.com)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Before Deploying:
  ✓ Update client/.env.production with backend URL
  ✓ Update vercel.json with backend URL

Repository:       [Your GitHub repo]
Framework:        Create React App
Root Directory:   client
Build Command:    npm run build
Output Directory: build
Install Command:  npm install

Environment Variables:
  REACT_APP_API_URL=https://bloomer-backend.onrender.com/api

After Deployment:
  ✓ Copy frontend URL: https://bloomer.vercel.app
  ✓ Update ALLOWED_ORIGINS in Render backend

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔍 FILES TO UPDATE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

client/.env.production:
  REACT_APP_API_URL=https://[YOUR-BACKEND-URL]/api

vercel.json:
  "REACT_APP_API_URL": "https://[YOUR-BACKEND-URL]/api"

Render Dashboard (ALLOWED_ORIGINS):
  https://[YOUR-FRONTEND-URL],https://bloomer.vercel.app

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ TESTING
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Backend Health Check:
  curl https://[YOUR-BACKEND-URL]/api/health

Test Newsletter API:
  curl -X POST https://[YOUR-BACKEND-URL]/api/newsletter/subscribe \
    -H "Content-Type: application/json" \
    -d '{"email":"test@example.com","source":"test"}'

Frontend:
  1. Visit https://[YOUR-FRONTEND-URL]
  2. Open browser console (F12)
  3. Try newsletter subscription
  4. Check for errors

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🐛 COMMON ERRORS & FIXES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

CORS Error:
  → Check ALLOWED_ORIGINS in Render includes exact frontend URL

Firebase Error:
  → Verify FIREBASE_PRIVATE_KEY has proper quotes and \n
  → Check all Firebase env vars are set

404 on API calls:
  → Verify REACT_APP_API_URL includes /api at end

Build fails:
  → Check all dependencies in package.json
  → Try: CI=false in Vercel env vars

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 HELPFUL COMMANDS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Prepare project:          ./prepare-deployment.sh
Verify readiness:         ./verify-deployment.sh
View Render logs:         [Render Dashboard → Logs]
View Vercel logs:         [Vercel Dashboard → Deployments → View Details]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📚 DOCUMENTATION
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

FIXES_SUMMARY.md                - What was fixed
DEPLOYMENT_READY.md             - Complete step-by-step guide
.env.example                    - Environment variables reference
DEPLOYMENT_GUIDE_VERCEL_RENDER.md - Alternative deployment guide

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎉 All deployment issues have been fixed! You're ready to deploy!
